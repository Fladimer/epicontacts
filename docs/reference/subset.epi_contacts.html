<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Subset an epi_contact object by factors — subset.epicontacts • epicontacts</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">epicontacts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Subset an epi_contact object by factors</h1>
    </div>

    
    <p>This function subsets an <code><a href='make_epicontacts.html'>epicontacts</a></code> object based on node, edge and/or cluster attributes.
Specifying node attributes will return an <code><a href='make_epicontacts.html'>epicontacts</a></code> object containing only individuals 
with these given attributes in the linelist. Specifying edge attributes will return contacts with the 
attributes provided. Specifying cluster attributes will return clusters of connected cases, and can be 
defined by ids (returning clusters of cases connected to specified cases) or cluster sizes (returning 
cluster of a specific, minimum or maximum size).</p>
    

    <pre><span class='co'># S3 method for epicontacts</span>
<span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>node.attribute</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>edge.attribute</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cluster_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>an epi_contact object to be subsetted</dd>
      <dt>node.attribute</dt>
      <dd>a named list defining the node attribute name and node attribute value (as a single value or vector of values).
Dates must be provided as a vector of date objects, defining the range of dates included in the subset</dd>
      <dt>edge.attribute</dt>
      <dd>a named list defining the edge attribute name and edge attribute value (as a single value or vector of values).
Dates must be provided as a vector of date objects, defining the range of dates included in the subset</dd>
      <dt>cluster_id</dt>
      <dd>a character vector of case identifiers; the connected components attached to these
cases will be retained in the output object.</dd>
      <dt>cs</dt>
      <dd>cluster size to be used for subsetting</dd>
      <dt>cs_min</dt>
      <dd>minimum cluster size for subsetting</dd>
      <dt>cs_max</dt>
      <dd>maximum cluster size for subsetting</dd>
      <dt>...</dt>
      <dd>further arguments passed on to other methods</dd>
    </dl>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fu'>require</span>(<span class='no'>outbreaks</span>)) {
<span class='co'>## build data</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_epicontacts.html'>make_epicontacts</a></span>(<span class='no'>ebola_sim</span>$<span class='no'>linelist</span>, <span class='no'>ebola_sim</span>$<span class='no'>contacts</span>,
<span class='kw'>id</span><span class='kw'>=</span><span class='st'>"case.id"</span>, <span class='kw'>to</span><span class='kw'>=</span><span class='st'>"case.id"</span>, <span class='kw'>from</span><span class='kw'>=</span><span class='st'>"infector"</span>, <span class='kw'>directed</span><span class='kw'>=</span><span class='fl'>FALSE</span>)

<span class='co'>## subset based on node and edge attributes</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>node.attribute</span><span class='kw'>=</span><span class='fu'>list</span>(<span class='st'>"gender"</span><span class='kw'>=</span><span class='st'>"f"</span>), <span class='kw'>edge.attribute</span><span class='kw'>=</span><span class='fu'>list</span>(<span class='st'>"source"</span><span class='kw'>=</span><span class='st'>"funeral"</span>))

<span class='co'>## subset a cluster connected to a given id (can be a vector of ids as well)</span>
<span class='no'>id</span> <span class='kw'>&lt;-</span> <span class='st'>"cac51e"</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>cluster_id</span><span class='kw'>=</span><span class='no'>id</span>)

<span class='co'>## subset based on cluster size range</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='fl'>12</span>, <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='fl'>15</span>)

<span class='co'>## subset based on single cluster size</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>cs</span> <span class='kw'>=</span> <span class='fl'>12</span>)

<span class='co'>## subset based on minimum cluster size</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>cs_min</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'>## subset based on maximum cluster size</span>
<span class='no'>x_subset</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>x</span>, <span class='kw'>cs_max</span> <span class='kw'>=</span> <span class='fl'>9</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Finlay Campbell (<a href='mailto:f.campbell15@imperial.ac.uk'>f.campbell15@imperial.ac.uk</a>), Nistara Randhawa (<a href='mailto:nrandhawa@ucdavis.edu'>nrandhawa@ucdavis.edu</a>)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nagraj VP, Thibaut Jombart, Randhawa Nistara, Bertrand Sudre, Finlay Campbell, Thomas Crellen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
